## 实验记录
#### 艾宏峰

当前baseline模型最优配置如下：

|配置|设置|
|:---:|:---:|
|模型|Faster R-CNN + r50 + FPN + DCN|
|anchor_ratio|[0.2, 0.5, 1.0, 2.0, 5.0]|
|训练多尺度|[(4096, 800), (4096, 1200)]|
|测试尺度|(4096, 1000)|
|epoch|1x schedule (12 epochs)|
|steps|[8, 11]|
|score|0.46365661|
|MAP/MAP50/MAP75|0.500/0.851/0.536|
****
### 2020年3月11日
1. 实验1主要是研究**libra**：  

|libra|MAP|MAP50|MAP75|score|loss|
|:---:|:---:|:---:|:---:|:---:|:---:|
|无|0.500|0.851|0.536|**0.4637**|0.24|
|有|0.509|0.855|0.558|0.4618|0.46|

**总结**：Libra的初衷是解决训练中样本层，特征层和目标层的不平衡问题。分数略低一点的原因可能是当前数据量和数据的现有特征决定了模型的上限，虽然Libra在验证集上表现好，但可能存在验证集过拟合嫌疑。建议后续先在数据上下工夫，再考虑提高模型的复杂度。

### 2020年3月12日
1. 实验2主要是研究**allowed_border和neg_pos_ub**：  

|allowed_border|neg_pos_ub|MAP|MAP50|MAP75|score|loss|
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
|0|-1|0.500|0.851|0.536|**0.4637**|0.24|
|-1|3|0.503|0.854|0.537|0.4632|0.26|

注：neg_pos_ub=-1是指RPN是不对‘负样本/正样本’比率作限制，而neg_pos_ub=3是指负样本数最多是正样本数3倍。allowed_border=0是指超过图片边界的anchor将会被忽略，allowed_border=-1是不忽略。  

**总结**：按mmdetection论文说法实验2会提高了AR，而且论文提到在靠近边界的GT目标能够在训练中有更多匹配正样本，此外，数据集上有些海产就在图片边缘附近，但最后这种配置并没有带来提升，猜想原因是之前加入了更小的anchor ratio，这样边缘目标也能被更好的召回，所以这么没有提升。
